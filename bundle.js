// declaraction of document.ready() function.
!function(){var e=!(!window.attachEvent||window.opera),t=/webkit\/(\d+)/i.test(navigator.userAgent)&&RegExp.$1<525,n=[],o=function(){for(var e=0;e<n.length;e++)n[e]()},a=document;a.ready=function(d){if(!e&&!t&&a.addEventListener)return a.addEventListener("DOMContentLoaded",d,!1);if(!(n.push(d)>1))if(e)!function(){try{a.documentElement.doScroll("left"),o()}catch(e){setTimeout(arguments.callee,0)}}();else if(t)var l=setInterval((function(){/^(loaded|complete)$/.test(a.readyState)&&(clearInterval(l),o())}),0)}}(),document.ready(
// toggleTheme function.
// this script shouldn't be changed.
()=>{var e=window._Blog||{},t=window.localStorage&&window.localStorage.getItem("theme");console.log("触发",t);var n="dark"===t,o=document.getElementsByTagName("body")[0];n?(document.getElementById("switch_default").checked=!0,
// mobile
document.getElementById("mobile-toggle-theme").innerText="· Dark"):(document.getElementById("switch_default").checked=!1,
// mobile
document.getElementById("mobile-toggle-theme").innerText="· Dark"),e.toggleTheme=function(){n?(o.classList.add("dark-theme"),
// mobile
document.getElementById("mobile-toggle-theme").innerText="· Dark"):(o.classList.remove("dark-theme"),
// mobile
document.getElementById("mobile-toggle-theme").innerText="· Light"),document.getElementsByClassName("toggleBtn")[0].addEventListener("click",()=>{o.classList.contains("dark-theme")?o.classList.remove("dark-theme"):o.classList.add("dark-theme"),window.localStorage&&window.localStorage.setItem("theme",document.body.classList.contains("dark-theme")?"dark":"light")}),
// moblie
document.getElementById("mobile-toggle-theme").addEventListener("click",()=>{o.classList.contains("dark-theme")?(o.classList.remove("dark-theme"),
// mobile
document.getElementById("mobile-toggle-theme").innerText="· Light"):(o.classList.add("dark-theme"),
// mobile
document.getElementById("mobile-toggle-theme").innerText="· Dark"),window.localStorage&&window.localStorage.setItem("theme",document.body.classList.contains("dark-theme")?"dark":"light")})},e.toggleTheme()}
// ready function.
);;
!function(e){function t(o){if(n[o])return n[o].exports;var l=n[o]={i:o,l:!1,exports:{}};return e[o].call(l.exports,l,l.exports,t),l.l=!0,l.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){(function(o){var l,r,s;!function(n,o){r=[],l=o(n),void 0!==(s="function"==typeof l?l.apply(t,r):l)&&(e.exports=s)}(void 0!==o?o:this.window||this.global,(function(e){"use strict";function t(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)m.call(n,o)&&(e[o]=n[o])}return e}function o(e,t,n){var o,l;return t||(t=250),function(){var r=n||this,s=+new Date,i=arguments;o&&s<o+t?(clearTimeout(l),l=setTimeout((function(){o=s,e.apply(r,i)}),t)):(o=s,e.apply(r,i))}}var l,r,s=n(2),i={},c={},a=n(3),u=n(4);if("undefined"!=typeof window){var d,f=!!e.document.querySelector&&!!e.addEventListener,m=Object.prototype.hasOwnProperty;return c.destroy=function(){if(!i.skipRendering)try{document.querySelector(i.tocSelector).innerHTML=""}catch(e){console.warn("Element not found: "+i.tocSelector)}i.scrollContainer&&document.querySelector(i.scrollContainer)?(document.querySelector(i.scrollContainer).removeEventListener("scroll",this._scrollListener,!1),document.querySelector(i.scrollContainer).removeEventListener("resize",this._scrollListener,!1),l&&document.querySelector(i.scrollContainer).removeEventListener("click",this._clickListener,!1)):(document.removeEventListener("scroll",this._scrollListener,!1),document.removeEventListener("resize",this._scrollListener,!1),l&&document.removeEventListener("click",this._clickListener,!1))},c.init=function(e){if(f&&(i=t(s,e||{}),this.options=i,this.state={},i.scrollSmooth&&(i.duration=i.scrollSmoothDuration,i.offset=i.scrollSmoothOffset,c.scrollSmooth=n(5).initSmoothScrolling(i)),l=a(i),r=u(i),this._buildHtml=l,this._parseContent=r,c.destroy(),null!==(d=r.selectHeadings(i.contentSelector,i.headingSelector)))){var m=r.nestHeadingsArray(d).nest;i.skipRendering||l.render(i.tocSelector,m),this._scrollListener=o((function(e){l.updateToc(d);var t=e&&e.target&&e.target.scrollingElement&&0===e.target.scrollingElement.scrollTop;(e&&(0===e.eventPhase||null===e.currentTarget)||t)&&(l.updateToc(d),i.scrollEndCallback&&i.scrollEndCallback(e))}),i.throttleTimeout),this._scrollListener(),i.scrollContainer&&document.querySelector(i.scrollContainer)?(document.querySelector(i.scrollContainer).addEventListener("scroll",this._scrollListener,!1),document.querySelector(i.scrollContainer).addEventListener("resize",this._scrollListener,!1)):(document.addEventListener("scroll",this._scrollListener,!1),document.addEventListener("resize",this._scrollListener,!1));var h=null;return this._clickListener=o((function(e){i.scrollSmooth&&l.disableTocAnimation(e),l.updateToc(d),h&&clearTimeout(h),h=setTimeout((function(){l.enableTocAnimation()}),i.scrollSmoothDuration)}),i.throttleTimeout),i.scrollContainer&&document.querySelector(i.scrollContainer)?document.querySelector(i.scrollContainer).addEventListener("click",this._clickListener,!1):document.addEventListener("click",this._clickListener,!1),this}},c.refresh=function(e){c.destroy(),c.init(e||this.options)},e.tocbot=c,c}}))}).call(t,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,onClick:!1,orderedList:!0,scrollContainer:null,skipRendering:!1}},function(e,t){e.exports=function(e){function t(e,l){var r=l.appendChild(n(e));if(e.children.length){var s=o(e.isCollapsed);e.children.forEach((function(e){t(e,s)})),r.appendChild(s)}}function n(t){var n=document.createElement("li"),o=document.createElement("a");return e.listItemClass&&n.setAttribute("class",e.listItemClass),e.onClick&&(o.onclick=e.onClick),e.includeHtml&&t.childNodes.length?l.call(t.childNodes,(function(e){o.appendChild(e.cloneNode(!0))})):o.textContent=t.textContent,o.setAttribute("href","#"+t.id),o.setAttribute("class",e.linkClass+c+"node-name--"+t.nodeName+c+e.extraLinkClasses),n.appendChild(o),n}function o(t){var n=e.orderedList?"ol":"ul",o=document.createElement(n),l=e.listClass+c+e.extraListClasses;return t&&(l+=c+e.collapsibleClass,l+=c+e.isCollapsedClass),o.setAttribute("class",l),o}var l=[].forEach,r=[].some,s=document.body,i=!0,c=" ";return{enableTocAnimation:function(){i=!0},disableTocAnimation:function(t){var n=t.target||t.srcElement;"string"==typeof n.className&&-1!==n.className.indexOf(e.linkClass)&&(i=!1)},render:function(e,n){var l=o(!1);n.forEach((function(e){t(e,l)}));var r=document.querySelector(e);if(null!==r)return r.firstChild&&r.removeChild(r.firstChild),0===n.length?r:r.appendChild(l)},updateToc:function(t){if(e.scrollContainer&&document.querySelector(e.scrollContainer))var n=document.querySelector(e.scrollContainer).scrollTop;else n=document.documentElement.scrollTop||s.scrollTop;e.positionFixedSelector&&function(){if(e.scrollContainer&&document.querySelector(e.scrollContainer))var t=document.querySelector(e.scrollContainer).scrollTop;else t=document.documentElement.scrollTop||s.scrollTop;var n=document.querySelector(e.positionFixedSelector);"auto"===e.fixedSidebarOffset&&(e.fixedSidebarOffset=document.querySelector(e.tocSelector).offsetTop),t>e.fixedSidebarOffset?-1===n.className.indexOf(e.positionFixedClass)&&(n.className+=c+e.positionFixedClass):n.className=n.className.split(c+e.positionFixedClass).join("")}();var o,a=t;if(i&&null!==document.querySelector(e.tocSelector)&&a.length>0){r.call(a,(function(t,l){return function t(n){var o=0;return n!=document.querySelector(e.contentSelector&&null!=n)&&(o=n.offsetTop,e.hasInnerContainers&&(o+=t(n.offsetParent))),o}(t)>n+e.headingsOffset+10?(o=a[0===l?l:l-1],!0):l===a.length-1?(o=a[a.length-1],!0):void 0}));var u=document.querySelector(e.tocSelector).querySelectorAll("."+e.linkClass);l.call(u,(function(t){t.className=t.className.split(c+e.activeLinkClass).join("")}));var d=document.querySelector(e.tocSelector).querySelectorAll("."+e.listItemClass);l.call(d,(function(t){t.className=t.className.split(c+e.activeListItemClass).join("")}));var f=document.querySelector(e.tocSelector).querySelector("."+e.linkClass+".node-name--"+o.nodeName+'[href="#'+o.id+'"]');-1===f.className.indexOf(e.activeLinkClass)&&(f.className+=c+e.activeLinkClass);var m=f.parentNode;m&&-1===m.className.indexOf(e.activeListItemClass)&&(m.className+=c+e.activeListItemClass);var h=document.querySelector(e.tocSelector).querySelectorAll("."+e.listClass+"."+e.collapsibleClass);l.call(h,(function(t){-1===t.className.indexOf(e.isCollapsedClass)&&(t.className+=c+e.isCollapsedClass)})),f.nextSibling&&-1!==f.nextSibling.className.indexOf(e.isCollapsedClass)&&(f.nextSibling.className=f.nextSibling.className.split(c+e.isCollapsedClass).join("")),function t(n){return-1!==n.className.indexOf(e.collapsibleClass)&&-1!==n.className.indexOf(e.isCollapsedClass)?(n.className=n.className.split(c+e.isCollapsedClass).join(""),t(n.parentNode.parentNode)):n}(f.parentNode.parentNode)}}}}},function(e,t){e.exports=function(e){function t(e){return e[e.length-1]}function n(e){return+e.nodeName.split("H").join("")}function o(t){var o={id:t.id,children:[],nodeName:t.nodeName,headingLevel:n(t),textContent:t.textContent.trim()};return e.includeHtml&&(o.childNodes=t.childNodes),o}function l(l,r){for(var s=o(l),i=n(l),c=r,a=t(c),u=i-(a?a.headingLevel:0);u>0;)(a=t(c))&&void 0!==a.children&&(c=a.children),u--;return i>=e.collapseDepth&&(s.isCollapsed=!0),c.push(s),c}var r=[].reduce;return{nestHeadingsArray:function(e){return r.call(e,(function(e,t){return l(o(t),e.nest),e}),{nest:[]})},selectHeadings:function(t,n){var o=n;e.ignoreSelector&&(o=n.split(",").map((function(t){return t.trim()+":not("+e.ignoreSelector+")"})));try{return document.querySelector(t).querySelectorAll(o)}catch(e){return console.warn("Element not found: "+t),null}}}}},function(e,t){t.initSmoothScrolling=function(e){function t(e){return"a"===e.tagName.toLowerCase()&&(e.hash.length>0||"#"===e.href.charAt(e.href.length-1))&&(n(e.href)===r||n(e.href)+"#"===r)}function n(e){return e.slice(0,e.lastIndexOf("#"))}document.documentElement.style;var o=e.duration,l=e.offset,r=location.hash?n(location.href):location.href;document.body.addEventListener("click",(function(n){!t(n.target)||n.target.className.indexOf("no-smooth-scroll")>-1||"#"===n.target.href.charAt(n.target.href.length-2)&&"!"===n.target.href.charAt(n.target.href.length-1)||-1===n.target.className.indexOf(e.linkClass)||function(e,t){function n(e){l=e-o,window.scrollTo(0,s.easing(l,r,c,a)),l<a?requestAnimationFrame(n):(window.scrollTo(0,r+c),"function"==typeof s.callback&&s.callback())}var o,l,r=window.pageYOffset,s={duration:t.duration,offset:t.offset||0,callback:t.callback,easing:t.easing||function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}},i=document.querySelector('[id="'+decodeURI(e).split("#").join("")+'"]'),c="string"==typeof e?s.offset+(e?i&&i.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):e,a="function"==typeof s.duration?s.duration(c):s.duration;requestAnimationFrame((function(e){o=e,n(e)}))}(n.target.hash,{duration:o,offset:l,callback:function(){!function(e){var t=document.getElementById(e.substring(1));t&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())}(n.target.hash)}})}),!1)}}]);;
function loadDisqus(){var e=document,n=e.createElement("script");n.src="https://acris.disqus.com/embed.js",n.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(n),window.disqus_config=function(){this.page.url=document.location.origin+document.location.pathname+document.location.search,this.page.identifier=document.location.origin+document.location.pathname+document.location.search}}function initDisqus(){
// 通过检查 window 对象确认是否在浏览器中运行
var e="undefined"!=typeof window,n=e&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent),t=e&&"IntersectionObserver"in window;
// 通过检查 scroll 事件 API 和 User-Agent 来匹配爬虫
// 一个小 hack，将耗时任务包裹在 setTimeout(() => { }, 1) 中，可以推迟到 Event Loop 的任务队列中、等待主调用栈清空后才执行，在绝大部分浏览器中都有效
// 其实这个 hack 本来是用于优化骨架屏显示的。一些浏览器总是等 JavaScript 执行完了才开始页面渲染，导致骨架屏起不到降低 FCP 的优化效果，所以通过 hack 将耗时函数放到骨架屏渲染完成后再进行。
setTimeout((function(){if(!n&&t){
// 当前环境不是爬虫、并且浏览器兼容 IntersectionObserver API
var e=new IntersectionObserver((function(n){
// 当前视窗中已出现 Disqus 评论框所在位置
n[0].isIntersecting&&(
// 加载 Disqus
loadDisqus(),
// 停止当前的 Observer
e.disconnect())}),{threshold:[0]});
// 设置让 Observer 观察 #disqus_thread 元素
let n=document.getElementById("disqus_thread");n&&e.observe(n)}else
// 当前环境是爬虫、或当前浏览器其不兼容 IntersectionObserver API
// 直接加载 Disqus
loadDisqus()}),5)}window.addEventListener("DOMContentLoaded",e=>{initDisqus()});;
function initLightGallery(){document.querySelectorAll(".post-content :not(a) > img").forEach(t=>{let e=t.getAttribute("src"),l=document.createElement("a");l.classList.add("light-gallery"),l.setAttribute("href",e),l.setAttribute("data-src",e),t.parentNode.insertBefore(l,t),l.appendChild(t);let a=t.getAttribute("title")||t.getAttribute("alt");a&&l.setAttribute("data-sub-html","<h4>"+a+"</h4>")}),lightGallery(document.getElementsByClassName("post-content")[0],{selector:".light-gallery",download:!1})}window.addEventListener("DOMContentLoaded",t=>{initLightGallery()});